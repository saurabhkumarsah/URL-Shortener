# URL Shortener Application

This is a backend application built with Node.js and MongoDB that provides URL shortening functionality. It allows users to create short URLs for long original URLs and redirects users to the original URLs when accessing the short URLs.

## Installation

1. Clone the repository:

   ```
   git clone <repository-url>
   ```

2. Install dependencies:

   ```
   npm install
   ```

3. Set up environment variables:
   - Create a `.env` file in the root directory.
   - Add the following variables to the `.env` file:
     - `PORT` - MongoDB connection URI
     - `URI` - MongoDB connection URI
     - `REDIS_END_POINT` - Redis server host
     - `REDIS_PORT` - Redis server port
     - `REDIS_PASS` - Redis server password

4. Start the application:

   ```
   npm start
   ```

## API Endpoints

### POST /url/shorten

Creates a short URL for an original URL provided in the request body.

**Request Body**

```json
{
  "longUrl": "http://abc.com/user/images/name/2"
}
```

**Response**

- 200 OK

```json
{
  "shortUrl": "http://localhost:3000/xyz"
}
```

- 400 Bad Request (Invalid request body)

### GET /:urlCode

Redirects to the original URL corresponding to the provided `urlCode`.

**Response**

- 302 Found (Redirect)

If the `urlCode` is valid and corresponds to a shortened URL:

The user is redirected to the original URL.

If the `urlCode` is not found or expired:

- 404 Not Found (URL not found)

If the `urlCode` is not valid:

- 400 Bad Request (Invalid request)

## Error Handling

- If an invalid request is made (e.g., missing required fields, invalid URL), the API will return a 400 Bad Request response with an error message.
- If a requested URL is not found, the API will return a suitable error message.

## Caching

To minimize database calls, caching is implemented using Redis. The shortened URLs are stored in the cache with a TTL (Time-To-Live) of 24 hours. When a short URL is accessed, the application first checks the cache for the corresponding original URL. If found, it redirects the user to the original URL directly without querying the database.

## Dependencies

- [Express.js](https://expressjs.com/): A web application framework for Node.js.
- [Mongoose](https://mongoosejs.com/): An Object Data Modeling (ODM) library for MongoDB.
- [shortid](https://www.npmjs.com/package/shortid): A simple and short non-sequential URL-friendly unique ID generator.
- [redis](https://www.npmjs.com/package/redis): A client library for Redis, an in-memory data structure store.
- [dotenv](https://www.npmjs.com/package/dotenv): A module that loads environment variables from a `.env` file.
- [axios](https://www.npmjs.com/package/axios): A promise-based HTTP client for making HTTP requests.
- [valid-url](https://www.npmjs.com/package/valid-url): A library for URL validation.

## Database

The application uses MongoDB as the database for storing the URL models. The `url` collection contains the following fields:

- `urlCode`: The code used to generate the short URL. It is unique, case-insensitive, and trimmed.
- `longUrl`: The original URL provided by the user.
- `shortUrl`: The shortened URL generated by the application.

## Further Improvements

This is a basic implementation of a URL shortener application. Here are some potential improvements that could be made:

- Implement user authentication and authorization to restrict access to certain URLs.
- Implement rate